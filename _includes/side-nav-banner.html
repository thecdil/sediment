<div style="background:transparent;">
    <button class="navbar-toggler sediment-map-toggle {% if page.layout == 'home' %}text-white{% else %}text-dark bg-light{% endif %} border border-dark"
        type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar"
        aria-label="Open navigation">
        <!-- Folding Map Icon -->
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi icon-sprite map-icon"
            viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M15.817.113A.5.5 0 0 1 16 .5v14a.5.5 0 0 1-.402.49l-5 1a.5.5 0 0 1-.196 0L5.5 15.01l-4.902.98A.5.5 0 0 1 0 15.5v-14a.5.5 0 0 1 .402-.49l5-1a.5.5 0 0 1 .196 0L10.5.99l4.902-.98a.5.5 0 0 1 .415.103M10 1.91l-4-.8v12.98l4 .8zm1 12.98 4-.8V1.11l-4 .8zm-6-.8V1.11l-4 .8v12.98z"/>
        </svg>
    </button>
    <div class="offcanvas offcanvas-start bg-dark text-start" tabindex="-1" id="offcanvasNavbar"
        aria-labelledby="offcanvasNavbarLabel">
        <div class="offcanvas-header ">
            <h2 class="offcanvas-title text-white" id="offcanvasNavbarLabel"><a class="text-white"
                        href="{{ '/.html' | relative_url }}">{{ site.title }}</a></h2>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas"
                aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
            <p class="h6 mb-3 text-white fst-italic">{{ site.tagline }}</p>

            <div class="accordion accordion-flush" id="sideNavAccordion">
                <!-- Main link -->
                <div class="accordion-item bg-dark">
                    <div class="nav-link text-light{% if page.url == '/' %} active{% endif %}">
                        <a class="text-light text-decoration-none" href="{{ '/main.html' | relative_url }}">Main</a>
                    </div>
                </div>

                <!-- Tributaries accordion item -->
                <div class="accordion-item bg-dark">
                    {% assign navChildren = site.data.config-nav | where_exp: 'item', 'item.dropdown_parent == "Tributaries"' %}
                    {%- assign childStubs = navChildren | map: 'stub' -%}
                    <div class="accordion-header" id="tributariesHeading">
                        <button class="accordion-button collapsed nav-accordion-button text-light{% if childStubs contains page.url %} active{% endif %}" 
                                type="button" 
                                data-bs-toggle="collapse" 
                                data-bs-target="#tributariesCollapse" 
                                aria-expanded="false" 
                                aria-controls="tributariesCollapse">
                            <span class="text-light">Tributaries</span>
                            <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" class="chevron-icon" viewBox="0 0 16 16">
                                <path d="m1 8 6-6 6 6 3 0L8 0 0 8z"/>
                            </svg>
                        </button>
                    </div>
                    <div id="tributariesCollapse" 
                         class="accordion-collapse collapse{% if page.url contains 'tributaries' %} show{% endif %}" 
                         aria-labelledby="tributariesHeading" 
                         data-bs-parent="#sideNavAccordion">
                        <div class="accordion-body p-0 ps-3">
                            {% for c in site.tributaries %}
                            <div class="nav-item">
                                <a class="nav-link text-light {% if page.url contains c.url %}active{% endif %}"
                                   href="{{ c.url | relative_url }}">{{ c.title }}</a>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>

                <!-- Dynamic navigation items -->
                {%- assign navItems = site.data.config-nav | where_exp: 'item', 'item.dropdown_parent == nil' -%}
                {% for nav in navItems %}
                {% if nav.stub %}
                <!-- Single nav item -->
                <div class="accordion-item bg-dark">
                    <div class="nav-link text-light{% if page.url == nav.stub %} active{% endif %}">
                        <a class="text-light text-decoration-none" href="{{ nav.stub | relative_url }}">{{ nav.display_name }}</a>
                    </div>
                </div>
                {%- else -%}
                <!-- Accordion nav item with children -->
                <div class="accordion-item bg-dark">
                    {% assign navChildren = site.data.config-nav | where_exp: 'item', 'item.dropdown_parent == nav.display_name' %}
                    {%- assign childStubs = navChildren | map: 'stub' -%}
                    {% assign accordionId = nav.display_name | slugify %}
                    <div class="accordion-header" id="{{ accordionId }}Heading">
                        <button class="accordion-button collapsed nav-accordion-button text-light{% if childStubs contains page.url %} active{% endif %}" 
                                type="button" 
                                data-bs-toggle="collapse" 
                                data-bs-target="#{{ accordionId }}Collapse" 
                                aria-expanded="false" 
                                aria-controls="{{ accordionId }}Collapse">
                            <span class="text-light">{{ nav.display_name }}</span>
                            <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" class="chevron-icon" viewBox="0 0 16 16">
                                <path d="m1 8 6-6 6 6 3 0L8 0 0 8z"/>
                            </svg>
                        </button>
                    </div>
                    <div id="{{ accordionId }}Collapse" 
                         class="accordion-collapse collapse{% if childStubs contains page.url %} show{% endif %}" 
                         aria-labelledby="{{ accordionId }}Heading" 
                         data-bs-parent="#sideNavAccordion">
                        <div class="accordion-body p-0 ps-3">
                            {% for c in navChildren %}
                            <div class="nav-item">
                                <a class="nav-link text-light {% if page.url == c.stub %}active{% endif %}"
                                   href="{{ c.stub | relative_url }}">{{ c.display_name }}</a>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
                {% endif %}
                {%- endfor -%}
            </div>

            <div class="text-center">
                {% if site.organization-logo-nav %}
                <div class="mt-5">
                    <a href="{{ site.organization-link }}" target="_blank" rel="noopener">
                        <img id="footer-logo" class="img-fluid sidebar-nav-imag"
                            src="{{ site.organization-logo-nav | relative_url }}"
                            alt="{{ site.organization-name | escape }} home">
                    </a>
                </div>
                {% endif %}
                <div class="mt-3">
                    <a href="https://www.lib.uidaho.edu" target="_blank" rel="noopener">
                        <img id="footer-logo" class="img-fluid sidebar-nav-imag"
                            src="https://www.lib.uidaho.edu/media/digital/liblogo_transparent.png"
                            alt="{{ site.organization-name | escape }} home">
                    </a>
                </div>
            </div>

        </div>
    </div>
</div>